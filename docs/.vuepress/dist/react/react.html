<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React启程 | 2U&#39;s blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="2U blog ">
    
    <link rel="preload" href="/assets/css/0.styles.883bf875.css" as="style"><link rel="preload" href="/assets/js/app.6d8e0d61.js" as="script"><link rel="preload" href="/assets/js/2.9662f95a.js" as="script"><link rel="preload" href="/assets/js/15.83a95a3d.js" as="script"><link rel="prefetch" href="/assets/js/10.82b66299.js"><link rel="prefetch" href="/assets/js/11.29466af4.js"><link rel="prefetch" href="/assets/js/12.3d2e4e37.js"><link rel="prefetch" href="/assets/js/13.d3faa0ac.js"><link rel="prefetch" href="/assets/js/14.f253ad90.js"><link rel="prefetch" href="/assets/js/16.aafbd8bf.js"><link rel="prefetch" href="/assets/js/17.5de4b03f.js"><link rel="prefetch" href="/assets/js/18.5f1f8045.js"><link rel="prefetch" href="/assets/js/19.db11e458.js"><link rel="prefetch" href="/assets/js/3.958d2730.js"><link rel="prefetch" href="/assets/js/4.d2c1605d.js"><link rel="prefetch" href="/assets/js/5.6d345a49.js"><link rel="prefetch" href="/assets/js/6.599e3ae0.js"><link rel="prefetch" href="/assets/js/7.bbd72351.js"><link rel="prefetch" href="/assets/js/8.0ea1692a.js"><link rel="prefetch" href="/assets/js/9.86aab131.js">
    <link rel="stylesheet" href="/assets/css/0.styles.883bf875.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">2U's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/js/闭包.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/ts/数据类型.html" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/react/react.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React
</a></div><div class="nav-item"><a href="/others/Nginx静态资源部署.html" class="nav-link">
  Other
</a></div><div class="nav-item"><a href="/" class="nav-link">
  About Me
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/js/闭包.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/ts/数据类型.html" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/react/react.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React
</a></div><div class="nav-item"><a href="/others/Nginx静态资源部署.html" class="nav-link">
  Other
</a></div><div class="nav-item"><a href="/" class="nav-link">
  About Me
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/react/react.html" aria-current="page" class="active sidebar-link">React启程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react.html#_1-安装" class="sidebar-link">1.安装</a></li><li class="sidebar-sub-header"><a href="/react/react.html#_2-react组件" class="sidebar-link">2.React组件</a></li><li class="sidebar-sub-header"><a href="/react/react.html#_3-props-和-event" class="sidebar-link">3.props 和 event</a></li></ul></li><li><a href="/react/react1.html" class="sidebar-link">React 组件通信的方式</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react启程"><a href="#react启程" class="header-anchor">#</a> React启程</h1> <h2 id="_1-安装"><a href="#_1-安装" class="header-anchor">#</a> 1.安装</h2> <ul><li><p>环境要求：[Node &gt;= 8.10 和 npm &gt;= 5.6]</p></li> <li><p>安装react脚手架：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g create-react-app
</code></pre></div></li> <li><p>创建react项目</p> <div class="language- extra-class"><pre class="language-text"><code>npx create-react-app {项目名称} &lt;js语言&gt;
npx create-react-app {项目名称} --typescript &lt;ts语言&gt;
</code></pre></div><p>tips:react项目目录,额,对比vue也属实有些拉跨。。。</p></li> <li><p>启动项目</p> <div class="language- extra-class"><pre class="language-text"><code>npm start
</code></pre></div></li></ul> <h2 id="_2-react组件"><a href="#_2-react组件" class="header-anchor">#</a> 2.React组件</h2> <ol><li><p>类组件</p> <div class="language- extra-class"><pre class="language-text"><code>import React,{Component} from 'react';
// q1 class Welcome extends Component | class Welcome extends React.Component | class Welcome extends Component 的区别?
class Welcome extends Component {
  constructor(props){
  	super(props); //q2 关于这里会发现裂开,直接带删除线了?暂时也没弄明白.想在constructor使用this,必须要super继承.这里不明白先可以看ES6 Class.
  }
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}
export default Welcome;
</code></pre></div></li> <li><p>函数式组件（stateless,又叫无状态组件）</p> <div class="language- extra-class"><pre class="language-text"><code>import React from 'react';
/** 乍一看根本不需要引入import,其实非也,是因为在Babel转译我们的App.js的时候，会把JSX语法糖转换为React.createElement方法。
  * 仔细请阅读http://www.5idf.cn/jishu/59.html
  */

function Welcome(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}
export default Welcome;
</code></pre></div><p>tips:看到这是不是又觉得有些难以适应,毕竟.vue的三层分明 <script></script></p><style></style><p></p></li></ol> <h2 id="_3-props-和-event"><a href="#_3-props-和-event" class="header-anchor">#</a> 3.props 和 event</h2> <ol><li><p>父传子</p> <div class="language- extra-class"><pre class="language-text"><code>// 若是在父组件应用了以上组件Welcome
// Father.js
function Father() {
  return (
  	&lt;div class='Root'&gt;
  		&lt;Son name='smith' /&gt;
  	&lt;/div&gt;	
  );
}
// Son.js
function Son(props){
	&lt;div&gt;
		&lt;h1&gt;Hola,{props.name}&lt;/h1&gt;
	&lt;/div&gt;	
}
</code></pre></div></li> <li><p>字传父</p> <div class="language- extra-class"><pre class="language-text"><code>import React, { Component } from 'react';
import Son from './Son';

class Father extends Component {
    constructor(...props) {
        super(...props);
        this.state = {
            son: ''
        }
    }
    render() {
        return (
            &lt;div&gt;
                &lt;p&gt;子传递过来的值{this.state.son}&lt;/p&gt;
                &lt;Son getVal={this.getVal} /&gt;
            &lt;/div&gt;
        )
    }

    getVal = (data) =&gt; {
        this.setState({
            son: data
        })
    }
}



class Son extends Component {
    constructor(...props) {
        super(...props)
        this.state = {
            sonState: '111'
        }
    }
    render() {
        return (
            &lt;div&gt;
                &lt;p&gt;{this.state.sonState}&lt;/p&gt;
                &lt;p onClick={this.toFather}&gt;传父&lt;/p&gt;
            &lt;/div&gt;
        )
    }

    toFather = () =&gt; {
        this.props.getVal(this.state.sonState)
    }
}
</code></pre></div><ul><li>react 中数据是单向流动的,所以不要在子组件直接去修改props的值.</li></ul></li> <li><p>event</p> <ul><li><p>2.1 事件绑定</p> <div class="language- extra-class"><pre class="language-text"><code>class BindEvent extends Component {
    render() {
        return (
        	&lt;div&gt;
        		&lt;button className=&quot;container&quot; onClick={this.test.bind(this)}&gt;方式一&lt;/button&gt;
           		&lt;button onClick={this.test2}&gt;方式二&lt;/button&gt;
        	&lt;/div&gt;	
        )
    }

    test() {
    	// 普通函数声明 需要bind(this)
        console.log(this.props)
    }

    test2 = () =&gt; {
    	// 箭头函数则DUCK不必
        console.log(this.props)
    }
}
</code></pre></div></li> <li><p>2.2 事件传参</p> <div class="language- extra-class"><pre class="language-text"><code>class BindEvent extends Component {
    render() {
        return (
        	&lt;div&gt;
        		&lt;button className=&quot;container&quot; onClick={this.test(&quot;param1&quot;))}&gt;错误的方式&lt;/button&gt;
           		&lt;button onClick={()=&gt;this.ok1(&quot;p1&quot;,&quot;p2&quot;)}&gt;ES6的方式&lt;/button&gt;
           		&lt;button onClick={function(){return this.ok2(p1,p2)}.bind(this)}&gt;ES6的方式&lt;/button&gt;
        	&lt;/div&gt;	
        )
    }
    
    test(param){
    	console.log(,params) //未点击就执行了
    }
    
    ok1(p1,p2){
    
    }
    
    ok2(p1,p2){
        
    }
}
</code></pre></div></li></ul></li></ol> <p>4State</p> <div class="language- extra-class"><pre class="language-text"><code>class StateTest extends Component {
	constructor(...props){
		super(...props)
		 // 关于q1遗留的问题目前这么写可避免删除线.同时发现在constructor中随意console.log会执行两次,在render方法debugger后发现进入了两次断点.后来去网上查找原因,React在开发环境下会刻意执行两次渲染,以防止组件内有什么side effect引起 bug，提前预防。官方github也作出了声明.
		//初始化state
		this.state = { desc:'我是默认值' }
	}
    render() {
        return (
        	&lt;div&gt;
        		&lt;span&gt;{this.state.desc}&lt;/span&gt;
           		&lt;button onClick={this.changeDesc}&gt;修改state值&lt;/button&gt;
        	&lt;/div&gt;	
        )
    }
    changeDesc = () =&gt;{
    	this.setState({
    		desc:'改变成船新值'
    	})
    }
}
</code></pre></div><ol><li>注意的几点
<ul><li>state不要直接更改, this.stat.desc = 'xxx' ,这种方式改了页面也不会刷新的.请使用setState函数.</li> <li>state的值可能是异步更新的.</li> <li>state的更新会被合并.</li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/react/react1.html">
        React 组件通信的方式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6d8e0d61.js" defer></script><script src="/assets/js/2.9662f95a.js" defer></script><script src="/assets/js/15.83a95a3d.js" defer></script>
  </body>
</html>
